<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Qt Toolkit - QWSInputMethod Class</title><style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }body { background: white; color: black; }
--></style>
</head><body bgcolor="#ffffff">

<table width="100%">
<tr><td><a href="index.html">
<img width="100" height="100" src="qtlogo.png"
alt="Home" border="0"><img width="100"
height="100" src="face.png" alt="Home" border="0">
</a><td valign="top"><div align="right"><img src="dochead.png" width="472" height="27"><br>
<a href="classes.html"><b>Classes</b></a>
- <a href="annotated.html">Annotated</a>
- <a href="hierarchy.html">Tree</a>
- <a href="functions.html">Functions</a>
- <a href="index.html">Home</a>
- <a href="topicals.html"><b>Structure</b>
  <font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular" align="center" size=32>Qte</font>
</a>
</div>
</table>

<h1 align=center>QWSInputMethod Class Reference</h1><br clear="all">
<p>
The QWSInputMethod class provides international input methods for Qt/Embedded.
<a href="#details">More...</a>
<p>
<code>#include &lt;<a href="qwindowsystem_qws-h.html">qwindowsystem_qws.h</a>&gt;</code>
<p>
Inherits <a href="qobject.html">QObject</a>.
<p><a href="qwsinputmethod-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li><div class="fn"><a href="#8c9eff"><b>QWSInputMethod</b></a> () </div>
<li><div class="fn">virtual <a href="#40443e"><b>~QWSInputMethod</b></a> () </div>
<li><div class="fn">virtual bool <a href="#927d89"><b>filter</b></a> ( int unicode, int keycode, int modifiers, bool isPress, bool autoRepeat ) </div>
<li><div class="fn">virtual void <a href="#59631b"><b>reset</b></a> () </div>
<li><div class="fn">virtual void <a href="#c16e67"><b>setMicroFocus</b></a> ( int x, int y ) </div>
<li><div class="fn">virtual void <a href="#bdf917"><b>mouseHandler</b></a> ( int, int ) </div>
<li><div class="fn">QFont <a href="#ada99c"><b>font</b></a> () const</div>
<li><div class="fn">QRect <a href="#db9a6f"><b>inputRect</b></a> () const</div>
</ul>
<h2>Protected Members</h2>
<ul>
<li><div class="fn">void <a href="#244465"><b>sendIMEvent</b></a> ( QWSServer::IMState state, const QString &amp; txt, int cpos, int selLen = 0 ) </div>
</ul>
<hr><h2><a name="details"></a>Detailed Description</h2>
The QWSInputMethod class provides international input methods for Qt/Embedded.
<p>
Subclass this to implement your own input method
<p>An input methods consists of a keyboard filter and optionally a
graphical interface. The keyboard filter intercepts key events
from physical or virtual keyboards by implementing the <a href="#927d89">filter</a>()
function.
<p>Use <a href="#244465">sendIMEvent</a>() to send composition events. Composition starts
with the input method sending the first <code>IMCompose</code> event.  This can be 
followed by a number of <code>IMCompose</code> events and ending with an <code>IMEnd</code> event.
<p>The function <a href="#c16e67">setMicroFocus</a>() is called when the focus widget changes
its cursor position.
<p>The functions <a href="#ada99c">font</a>() and <a href="#db9a6f">inputRect</a>() provide more information about
the state of the focus widget.
<p>Use <a href="qwsserver.html#852b96">QWSServer::setCurrentInputMethod</a>() to install an input method.

<hr><h2>Member Function Documentation</h2>
<h3 class="fn"><a name="8c9eff"></a>QWSInputMethod::QWSInputMethod ()</h3>
<p>Constructs a new input method.
<h3 class="fn"><a name="40443e"></a>QWSInputMethod::~QWSInputMethod () <code>[virtual]</code></h3>
<p>Destructs the input method uninstalling it if it is currently installed.
<h3 class="fn">bool <a name="927d89"></a>QWSInputMethod::filter ( int unicode, int keycode, int modifiers, bool isPress, bool autoRepeat ) <code>[virtual]</code></h3>
<p>Must be implemented in subclasses to handle key input from physical
or virtual keyboards. Returning TRUE will block the event from
further processing.
<p>All normal key events should be blocked while in compose mode
(between <code>IMCompose</code> and <code>IMEnd).</code>
<h3 class="fn"><a href="qfont.html">QFont</a> <a name="ada99c"></a>QWSInputMethod::font () const</h3>
<p>Returns the font of the current input widget.
<h3 class="fn"><a href="qrect.html">QRect</a> <a name="db9a6f"></a>QWSInputMethod::inputRect () const</h3>
<p>Returns the input rectangle of the current input widget. The input
rectangle covers the width of the input widget, and may extend below it.
This can be used to determine the geometry of an input widget for
over-the-spot input methods.
<h3 class="fn">void <a name="bdf917"></a>QWSInputMethod::mouseHandler ( int x, int state ) <code>[virtual]</code></h3>
<p>Implemented in subclasses to handle mouse presses/releases within
the on-the-spot text. The parameter <em>x</em> is the offset within
the string that was sent with the IMCompose event.
<em>state</em> is either <code>QWSServer::MousePress</code> or <code>QWSServer::MouseRelease</code>
<h3 class="fn">void <a name="59631b"></a>QWSInputMethod::reset () <code>[virtual]</code></h3>
<p>Implemented in subclasses to reset the state of the input method.
<h3 class="fn">void <a name="244465"></a>QWSInputMethod::sendIMEvent ( <a href="qwsserver.html#IMState">QWSServer::IMState</a> state, const <a href="qstring.html">QString</a> &amp; txt, int cpos, int selLen = 0 ) <code>[protected]</code></h3>
<p>Causes a QIMEvent to be sent to the focus widget. <em>state</em> may be either
<code>QWSServer::IMCompose</code> or <code>QWSServer::IMEnd.</code>
<p><em>txt</em> is the text being composed (or the finished text if state is
<code>IMEnd).</code> <em>cpos</em> is the current cursor position.
<p>If state is <code>IMCompose,</code>
<em>selLen</em> is the number of characters in the composition string (
starting at <em>cpos</em> ) that should be marked as selected by the
input widget receiving the event.
<h3 class="fn">void <a name="c16e67"></a>QWSInputMethod::setMicroFocus ( int x, int y ) <code>[virtual]</code></h3>
<p>Implemented in subclasses to handle microFocusHint changes in the
focus widget. <em>x</em> and <em>y</em> are the global coordinates of the 
cursor position.
<hr><p>
Search the documentation, FAQ, qt-interest archive and more (uses
<a href="http://www.trolltech.com">www.trolltech.com</a>):<br>
<form method=post action="http://www.trolltech.com/search.cgi">
<input type=hidden name="version" value="2.3.10"><nobr>
<input size="50" name="search"><input type=submit value="Search">
</nobr></form><hr><p>
This file is part of the <a href="index.html">Qt toolkit</a>,
copyright &copy; 1995-2005
<a href="http://www.trolltech.com">Trolltech</a>, all rights reserved.<p><address><hr><div align="center">
<table width="100%" cellspacing="0" border="0"><tr>
<td>Copyright © 2005 Trolltech<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align="right"><div align="right">Qt version 2.3.10</div>
</table></div></address></body></html>
